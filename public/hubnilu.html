
<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
        <title>Nilachal Eduhub</title>
        <link rel="stylesheet" href="main.css" >
    <link rel="stylesheet" href="assets/css/category.css">
    <link rel="stylesheet" href="assets/css/admin.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
</head>
<body>
        <!-- Admin Login/Register Modal -->

            <style>
            #admin-auth-modal {
                display: none; position: fixed; top: 0; left: 0; width: 100vw; height: 100vh;
                background: rgba(30,40,60,0.18); z-index: 1000; align-items: center; justify-content: center;
            }
            .admin-auth-card {
                background: #fff; padding: 36px 28px 28px 28px; border-radius: 16px; max-width: 370px; margin: auto;
                box-shadow: 0 8px 32px rgba(30,40,60,0.13); position: relative; font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
                animation: fadeInScale 0.4s cubic-bezier(.4,1.4,.6,1) 1;
            }
            @keyframes fadeInScale {
                0% { opacity: 0; transform: scale(0.95); }
                100% { opacity: 1; transform: scale(1); }
            }
            .admin-auth-card h2 {
                color: #134e8b; margin-bottom: 18px; font-size: 1.5rem; font-weight: 700;
                letter-spacing: 0.5px;
            }
            .admin-auth-card input[type="text"],
            .admin-auth-card input[type="password"] {
                width: 100%; padding: 12px 14px; border: 1.5px solid #e2e8f0; border-radius: 8px;
                margin-bottom: 14px; font-size: 1rem; background: #f8fafc; transition: border 0.2s;
            }
            .admin-auth-card input:focus {
                border-color: #3366ff; outline: none;
            }
            .admin-auth-card button.btn {
                width: 100%; background: linear-gradient(90deg,#3366ff,#6c5ce7); color: #fff;
                border: none; padding: 12px 0; border-radius: 8px; font-weight: 600; font-size: 1.08rem;
                margin-top: 2px; cursor: pointer; transition: background 0.2s;
            }
            .admin-auth-card button.btn:hover {
                background: linear-gradient(90deg,#6c5ce7,#3366ff);
            }
            .admin-auth-card .auth-toggle {
                margin-top: 16px; text-align: center; font-size: 0.98rem;
            }
            .admin-auth-card .auth-toggle a {
                color: #3366ff; text-decoration: underline; cursor: pointer;
            }
            #admin-auth-error {
                color: #c00; margin-top: 12px; min-height: 20px; text-align: center; font-size: 0.98rem;
            }
            </style>

            <div id="admin-auth-modal">
                <div class="admin-auth-card">
                    <h2 id="auth-title">Admin Login</h2>
                    <form id="admin-login-form">
                        <input type="text" id="admin-username" placeholder="Username" required autocomplete="username">
                        <input type="password" id="admin-password" placeholder="Password" required autocomplete="current-password">
                        <button type="submit" class="btn">Login</button>
                    </form>
                    <div id="admin-auth-error"></div>
                </div>
            </div>

 <!-- Header / Navbar -->
 <header class="navbar">
    <div class="site-name">

      <img src="assets/images/mylogo.png" alt="Nilachal Eduhub logo" class="site-logo">

      <div class="site-name-text">Nilachal <span>Eduhub</span></div>

    </div>
    
    <nav class="nav-links nav-buttons">
      <a href="index.html" class="nav-btn">Home</a>
      <a href="test-series.html" class="nav-btn">Test Series</a>
    </nav>

    <div class="search-login">
      <input type="text" class="search-box" placeholder="Search">
    </div>
  </header>

    <div class="containernew">
        <div style="display:flex; align-items:center; justify-content:space-between;">
            <h1>Admin Panel</h1>
            <button id="admin-logout-btn" class="nav-btn" style="background:#e53e3e; color:#fff; border-radius:8px; padding:8px 14px;">Logout</button>
        </div>

        <!-- Main Menu Section -->
        <div class="admin-section" id="main-menu-section">
            <div style="text-align: center; margin-top: 60px; display: flex; gap: 20px; justify-content: center; flex-wrap: wrap;">
                <button class="nav-btn" id="dashboard-btn" style="font-size: 1.2rem; padding: 20px 40px; background: linear-gradient(135deg, #3b82f6, #2563eb); color: white; border: none; border-radius: 12px; cursor: pointer; box-shadow: 0 4px 15px rgba(59, 130, 246, 0.3); transition: all 0.3s ease;">
                    <span class="nav-icon" style="font-size: 1.5rem; margin-right: 10px;">üìä</span>
                    Dashboard
                </button>
                <button class="nav-btn" id="mocktests-btn" style="font-size: 1.2rem; padding: 20px 40px; background: linear-gradient(135deg, #667eea, #764ba2); color: white; border: none; border-radius: 12px; cursor: pointer; box-shadow: 0 4px 15px rgba(102, 126, 234, 0.3); transition: all 0.3s ease;">
                    <span class="nav-icon" style="font-size: 1.5rem; margin-right: 10px;">üìù</span>
                    Mocktests
                </button>
                <button class="nav-btn" id="courses-btn" style="font-size: 1.2rem; padding: 20px 40px; background: linear-gradient(135deg, #10b981, #059669); color: white; border: none; border-radius: 12px; cursor: pointer; box-shadow: 0 4px 15px rgba(16, 185, 129, 0.3); transition: all 0.3s ease;">
                    <span class="nav-icon" style="font-size: 1.5rem; margin-right: 10px;">üìö</span>
                    Courses
                </button>
                <a href="admanagement.html" class="nav-btn" id="ads-btn" style="font-size: 1.2rem; padding: 20px 40px; background: linear-gradient(135deg, #f59e0b, #d97706); color: white; border: none; border-radius: 12px; cursor: pointer; box-shadow: 0 4px 15px rgba(245, 158, 11, 0.3); transition: all 0.3s ease; text-decoration: none; display: inline-flex; align-items: center; justify-content: center;">
                    <span class="nav-icon" style="font-size: 1.5rem; margin-right: 10px;">üì¢</span>
                    Ad Management
                </a>
                <button class="nav-btn" id="exam-details-btn" style="font-size: 1.2rem; padding: 20px 40px; background: linear-gradient(135deg, #8b5cf6, #7c3aed); color: white; border: none; border-radius: 12px; cursor: pointer; box-shadow: 0 4px 15px rgba(139, 92, 246, 0.3); transition: all 0.3s ease;">
                    <span class="nav-icon" style="font-size: 1.5rem; margin-right: 10px;">üìã</span>
                    Exam Details
                </button>
            </div>
            <style>
                #mocktests-btn:hover {
                    transform: translateY(-2px);
                    box-shadow: 0 6px 20px rgba(102, 126, 234, 0.4);
                }
                #courses-btn:hover {
                    transform: translateY(-2px);
                    box-shadow: 0 6px 20px rgba(16, 185, 129, 0.4);
                }
                #ads-btn:hover {
                    transform: translateY(-2px);
                    box-shadow: 0 6px 20px rgba(245, 158, 11, 0.4);
                }
                #exam-details-btn:hover {
                    transform: translateY(-2px);
                    box-shadow: 0 6px 20px rgba(139, 92, 246, 0.4);
                }
            </style>
        </div>

        <!-- Mocktests Section -->
        <div class="admin-section" id="mocktests-section" style="display: none;">
            <div style="display:flex; align-items:center; justify-content:space-between; margin-bottom: 20px;">
                <h2>Mocktests Management</h2>
                <button id="back-to-main-btn" class="nav-btn" style="background:#64748b; color:#fff; border-radius:8px; padding:8px 14px;">‚Üê Back</button>
            </div>

            <!-- Navigation Buttons -->
            <div class="admin-nav">
                <button class="nav-btn active" data-section="categories">
                    <span class="nav-icon">üìÅ</span>
                    Categories
                </button>
                <button class="nav-btn" data-section="exams">
                    <span class="nav-icon">üìã</span>
                    Exams
                </button>
                <button class="nav-btn" data-section="tests">
                    <span class="nav-icon">üìù</span>
                    Tests
                </button>
                <button class="nav-btn" data-section="questions">
                    <span class="nav-icon">‚ùì</span>
                    Add Questions
                </button>
            </div>

        <!-- Category Management -->
        <div class="admin-section" id="categories-section" style="display: none;">
            <h2>Categories</h2>
            <form id="category-form">
                <input type="hidden" id="category-id">
                <input type="text" id="category-name" placeholder="Category Name" required>
                <input type="text" id="category-desc" placeholder="Category Description">
                <textarea id="category-course-details" placeholder="Course Details" rows="3"></textarea>
                <input type="text" id="category-course-cost" placeholder="Price (e.g., ‚Çπ499)">
                <div class="form-row" style="display:flex; gap:10px; flex-wrap:wrap;">
                    <input type="number" id="category-validity-value" placeholder="Validity value" min="1" style="flex:1 1 140px;">
                    <select id="category-validity-unit" style="flex:1 1 140px;">
                        <option value="">Select unit</option>
                        <option value="day">Day(s)</option>
                        <option value="month">Month(s)</option>
                        <option value="year">Year(s)</option>
                    </select>
                </div>
                <div class="form-row" style="margin-top:12px;">
                    <label style="font-weight: 600; margin-bottom: 6px; display:block;">Does the Category have discount?</label>
                    <div class="radio-group">
                        <label><input type="radio" name="category-has-discount" id="category-discount-yes" value="yes"> Yes</label>
                        <label><input type="radio" name="category-has-discount" id="category-discount-no" value="no" checked> No</label>
                    </div>
                </div>
                <div id="category-discount-fields" style="display:none; margin-top:10px;">
                    <input type="number" id="category-discount-percent" placeholder="Discount % (e.g., 15)" min="0" max="100" step="0.01">
                    <input type="text" id="category-discount-code" placeholder="Discount Code">
                    <textarea id="category-discount-message" placeholder="Discount message for users" rows="2"></textarea>
                </div>
                <button type="submit" class="btn">Save Category</button>
            </form>
            <div id="category-list" class="admin-list"></div>
        </div>

        <!-- Exam Management -->
        <div class="admin-section" id="exams-section" style="display: none;">
            <h2>Exams (Sub-categories)</h2>
            <form id="exam-form">
                <input type="hidden" id="exam-id">
                <select id="exam-category-select" required>
                    <option value="">-- Select a Category --</option>
                </select>
                <input type="text" id="exam-name" placeholder="Exam Name" required>
                <input type="text" id="exam-desc" placeholder="Exam Description">
                <textarea id="exam-course-details" placeholder="Course Details" rows="3"></textarea>
                <input type="text" id="exam-course-cost" placeholder="Price (e.g., ‚Çπ499)">
                <div class="form-row" style="display:flex; gap:10px; flex-wrap:wrap;">
                    <input type="number" id="exam-validity-value" placeholder="Validity value" min="1" style="flex:1 1 140px;">
                    <select id="exam-validity-unit" style="flex:1 1 140px;">
                        <option value="">Select unit</option>
                        <option value="day">Day(s)</option>
                        <option value="month">Month(s)</option>
                        <option value="year">Year(s)</option>
                    </select>
                </div>
                <div class="form-row" style="margin-top:12px;">
                    <label style="font-weight: 600; margin-bottom: 6px; display:block;">Does the Exam have discount?</label>
                    <div class="radio-group">
                        <label><input type="radio" name="exam-has-discount" id="exam-discount-yes" value="yes"> Yes</label>
                        <label><input type="radio" name="exam-has-discount" id="exam-discount-no" value="no" checked> No</label>
                    </div>
                </div>
                    <div id="exam-discount-fields" style="display:none; margin-top:10px;">
                        <input type="number" id="exam-discount-percent" placeholder="Discount % (e.g., 15)" min="0" max="100" step="0.01">
                        <input type="text" id="exam-discount-code" placeholder="Discount Code">
                        <textarea id="exam-discount-message" placeholder="Discount message for users" rows="2"></textarea>
                    </div>
                <button type="submit" class="btn">Save Exam</button>
            </form>
            <div id="exam-list" class="admin-list"></div>
        </div>

        <!-- Test Management -->
        <div class="admin-section" id="tests-section" style="display: none;">
            <h2>Tests</h2>
            <form id="test-form">
                <input type="hidden" id="test-id">
                <select id="test-category-select" required>
                    <option value="">-- Select Category --</option>
                </select>
                <select id="test-exam-select" required>
                    <option value="">-- Select Exam --</option>
                </select>
                <input type="text" id="test-name-select" placeholder="Test Name" required>
                <input type="number" id="test-num-questions" placeholder="Number of Questions" required>
                <input type="number" id="test-time-limit" placeholder="Time Limit (minutes)" required>
                <input type="number" id="test-positive-mark" step="any" placeholder="Marks for correct answer" required>
                <input type="number" id="test-negative-mark" step="any" placeholder="Negative marks for wrong answer" required>
                <div class="form-row" style="grid-column: 1 / -1;">
                    <label style="font-weight: 600; margin-bottom: 6px;">Is this test free?</label>
                    <div class="radio-group">
                        <label><input type="radio" name="test-is-free" id="test-is-free-yes" value="yes"> Yes</label>
                        <label><input type="radio" name="test-is-free" id="test-is-free-no" value="no" checked> No</label>
                    </div>
                </div>
                <div class="form-row" style="grid-column: 1 / -1;">
                    <label for="test-has-sections" style="font-weight: 600; margin-bottom: 6px;">Does the test contain different sections?</label>
                    <div class="radio-group">
                        <label><input type="radio" name="test-has-sections" id="test-has-sections-yes" value="yes"> Yes</label>
                        <label><input type="radio" name="test-has-sections" id="test-has-sections-no" value="no" checked> No</label>
                    </div>
                </div>
                <div id="test-sections-container" style="display: none; margin: 18px 0 0 0; width: 100%;">
                    <div class="sections-config">
                        <div class="sections-config-top">
                            <label for="test-num-sections">Number of sections</label>
                            <input type="number" id="test-num-sections" min="1" placeholder="e.g. 3">
                            <button type="button" id="configure-sections-btn" class="btn-gray">Configure Sections</button>
                        </div>
                        <div id="test-section-rows" class="sections-rows"></div>
                    </div>
                </div>
                <button type="submit" class="btn" style="margin-top: 18px;">Save Test</button>
            </form>
            <div id="test-list" class="admin-list"></div>
        </div>

        <!-- Question Management -->
        <div class="admin-section" id="questions-section" style="display: none;">
            <h2>Add Questions to Test</h2>
            <form id="question-form">
                <select id="question-category-select" required>
                    <option value="">-- Select Category --</option>
                </select>
                <select id="question-exam-select" required>
                    <option value="">-- Select Exam --</option>
                </select>
                <select id="question-test-select" required>
                    <option value="">-- Select Test --</option>
                </select>
                <button type="button" class="btn-gray" id="auto-create-questions-btn" style="display: none;">
                    <span class="nav-icon">‚ö°</span>
                    Auto-Create Question Spaces
                </button>
                <!-- Section navigation (tabs + prev/next) -->
                <div id="section-nav" style="display:none; margin:10px 0;">
                    <div id="section-tabs" style="display:inline-block;"></div>
                    <div style="display:inline-block; margin-left:12px;">
                        <button type="button" id="section-prev-btn" class="btn-gray">Prev</button>
                        <button type="button" id="section-next-btn" class="btn-gray">Next</button>
                    </div>
                </div>
                
                <hr>
                <h3>Questions <span id="question-count">(0)</span></h3>
                <div id="questions-container"></div>
                <button type="button" class="btn-gray" id="add-question-btn">Add Question</button>
                <hr>

                <button type="submit" class="btn">Save Questions</button>
            </form>
        </div>

        </div>
        <!-- End of Mocktests Section -->

        <!-- Courses Section -->
        <div class="admin-section" id="courses-section" style="display: none;">
            <div style="display:flex; align-items:center; justify-content:space-between; margin-bottom: 20px;">
                <h2>Courses Management</h2>
                <button id="back-to-main-from-courses-btn" class="nav-btn" style="background:#64748b; color:#fff; border-radius:8px; padding:8px 14px;">‚Üê Back</button>
            </div>

            <!-- Navigation Buttons for Courses -->
            <div class="admin-nav">
                <button class="nav-btn active" data-section="course-categories">
                    <span class="nav-icon">üìÅ</span>
                    Course Categories
                </button>
                <button class="nav-btn" data-section="courses-list">
                    <span class="nav-icon">üìã</span>
                    Courses
                </button>
                <button class="nav-btn" data-section="lessons">
                    <span class="nav-icon">üé•</span>
                    Lessons
                </button>
                    <button class="nav-btn" data-section="add-media">
                        <span class="nav-icon">‚ûï</span>
                        Add Video/PDF
                    </button>
            </div>

            <!-- Course Category Management -->
            <div class="admin-section" id="course-categories-section" style="display: none;">
                <h2>Course Categories</h2>
                <form id="course-category-form">
                    <input type="hidden" id="course-category-id">
                    <input type="text" id="course-category-name" placeholder="Category Name (e.g., Assam Govt Exam, Banking)" required>
                    <input type="text" id="course-category-desc" placeholder="Category Description">
                    <button type="submit" class="btn">Save Category</button>
                </form>
                <div id="course-category-list" class="admin-list"></div>
            </div>

            <!-- Course Management -->
            <div class="admin-section" id="courses-list-section" style="display: none;">
                <h2>Courses</h2>
                <form id="course-form">
                    <input type="hidden" id="course-id">
                    <select id="course-category-select" required>
                        <option value="">-- Select Course Category --</option>
                    </select>
                    <input type="text" id="course-name" placeholder="Course Name (e.g., ADRE 3.0, APSC)" required>
                    <input type="text" id="course-desc" placeholder="Course Description">
                    <textarea id="course-details" placeholder="Course Details" rows="3"></textarea>
                    <input type="text" id="course-cost" placeholder="Course Cost">
                    <input type="text" id="course-validity" placeholder="Validity (e.g., 6 Months / 1 Year)">
                    <button type="submit" class="btn">Save Course</button>
                </form>
                <div id="course-list" class="admin-list"></div>
            </div>

            <!-- Lesson/Content Management -->
            <div class="admin-section" id="lessons-section" style="display: none;">
                <h2>Lessons / Content</h2>
                <form id="lesson-form" enctype="multipart/form-data">
                    <input type="hidden" id="lesson-id">
                    <select id="lesson-category-select" required>
                        <option value="">-- Select Course Category --</option>
                    </select>
                    <select id="lesson-course-select" required>
                        <option value="">-- Select Course --</option>
                    </select>
                    
                    <div class="form-row" style="grid-column: 1 / -1;">
                        <label style="font-weight: 600; margin-bottom: 6px;">Does the course contain different subjects?</label>
                        <div class="radio-group">
                            <label><input type="radio" name="lesson-has-subjects" id="lesson-has-subjects-yes" value="yes"> Yes</label>
                            <label><input type="radio" name="lesson-has-subjects" id="lesson-has-subjects-no" value="no" checked> No</label>
                        </div>
                    </div>
                    <div id="lesson-subjects-container" style="display: none; grid-column: 1 / -1; margin: 18px 0 0 0; width: 100%;">
                        <div class="sections-config">
                            <div class="sections-config-top">
                                <label for="lesson-num-subjects">Number of subjects</label>
                                <input type="number" id="lesson-num-subjects" min="1" placeholder="e.g. 3">
                                <button type="button" id="configure-subjects-btn" class="btn-gray">Configure Subjects</button>
                            </div>
                            <div id="lesson-subject-rows" class="sections-rows"></div>
                        </div>
                    </div>
                    <button type="submit" class="btn">Save Lesson</button>
                </form>
                <div id="lesson-list" class="admin-list"></div>
            </div>

            <!-- Add Video/PDF Section -->
            <div class="admin-section" id="add-media-section" style="display: none;">
                <h2>Add Video / PDF</h2>
                <div class="form-grid">
                    <select id="media-category-select" required>
                        <option value="">-- Select Course Category --</option>
                    </select>
                    <select id="media-course-select" required>
                        <option value="">-- Select Course --</option>
                    </select>
                    <select id="media-subject-select">
                        <option value="">-- Select Subject (auto) --</option>
                    </select>
                    <button type="button" id="open-add-video-modal" class="btn" style="grid-column: 1 / -1; width: max-content;">Add Video</button>
                    <div id="media-upload-inline" style="grid-column: 1 / -1; margin-top: 10px;">
                        <label style="display:block; font-weight:600; margin-bottom:6px;">Or upload PDF directly</label>
                        <input type="file" id="media-pdf-inline" accept="application/pdf">
                        <button type="button" id="upload-pdf-inline-btn" class="btn-gray">Upload PDF</button>
                    </div>
                </div>
                
                <!-- Add Video Inline (non-floating) -->
                <div id="add-video-modal" style="display:none; margin-top: 16px;">
                    <div style="background:#fff; border:1px solid #e2e8f0; border-radius:12px; padding:20px; width: 100%; max-width: 720px; box-shadow:0 4px 14px rgba(0,0,0,0.06);">
                        <h3 style="margin-top:0;">Add Video</h3>
                        <form id="add-video-form">
                            <input type="hidden" id="video-id">
                            <div style="display:grid; grid-template-columns: repeat(auto-fit, minmax(260px, 1fr)); gap:14px; grid-auto-flow: row; grid-auto-rows: auto;">
                                <div>
                                    <label for="video-title" style="display:block; font-weight:600; margin:0 0 6px;">Video Title <span style="color:#e53e3e;">*</span></label>
                                    <input type="text" id="video-title" placeholder="Enter video title" required style="width:100%;">
                                </div>
                                <div>
                                    <label for="video-description" style="display:block; font-weight:600; margin:0 0 6px;">Description</label>
                                    <input type="text" id="video-description" placeholder="Short description (optional)" style="width:100%;">
                                </div>
                            </div>
                            <div style="margin-top:14px; display:grid; grid-template-columns: repeat(auto-fit, minmax(260px, 1fr)); gap:14px; grid-auto-flow: row; grid-auto-rows: auto; align-items:start;">
                                <div>
                                    <label style="display:block; font-weight:600; margin:0 0 6px;">Video File <span style="color:#e53e3e;">*</span></label>
                                    <input type="file" id="video-file" accept="video/*" required style="width:100%;">
                                </div>
                                <div>
                                    <label style="display:block; font-weight:600; margin:0 0 6px;">Attach PDF / Lecture Notes</label>
                                    <input type="file" id="video-pdf-file" accept="application/pdf" style="width:100%;">
                                    <div style="font-size: 12px; color:#64748b; margin-top:6px;">Optional. Upload supporting notes as PDF.</div>
                                </div>
                                <div>
                                    <label style="display:block; font-weight:600; margin:0 0 6px;">Thumbnail</label>
                                    <input type="file" id="video-thumbnail-file" accept="image/*" style="width:100%;">
                                    <div style="font-size: 12px; color:#64748b; margin-top:6px;">Optional. Display image for the video.</div>
                                </div>
                            </div>
                            <div style="display:flex; gap:10px; justify-content:flex-end; margin-top:16px;">
                                <button type="button" id="cancel-add-video" class="btn-gray">Cancel</button>
                                <button type="submit" class="btn">Save</button>
                            </div>
                        </form>
                    </div>
                </div>
                <div id="existing-media-list" style="margin-top:20px;"></div>
            </div>

        </div>
        <!-- End of Courses Section -->


        <!-- Exam Details Section -->
        <div class="admin-section" id="exam-details-section" style="display: none;">
            <div style="display:flex; align-items:center; justify-content:space-between; margin-bottom: 20px;">
                <h2>Exam Details Management</h2>
                <button id="back-to-main-from-exam-details-btn" class="nav-btn" style="background:#64748b; color:#fff; border-radius:8px; padding:8px 14px;">‚Üê Back</button>
            </div>
            <div id="exam-details-content">
                <!-- Content will be loaded from exam-details.html -->
            </div>
        </div>
        <!-- End of Exam Details Section -->
        
    </div>

    <link rel="stylesheet" href="assets/css/exam-details.css">
    <script src="assets/js/admin.js"></script>
    <script src="assets/js/exam-details.js"></script>
</body>
</html>
